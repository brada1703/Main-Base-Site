{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 1f5ba223e7b1a2f83544","webpack:///external \"@angular/core\"","webpack:///./src/localize-router.parser.ts","webpack:///./src/localize-router.service.ts","webpack:///external \"rxjs/add/observable/forkJoin\"","webpack:///./src/localize-router.pipe.ts","webpack:///external \"@angular/router\"","webpack:///external \"rxjs/Observable\"","webpack:///./src/localize-router.module.ts","webpack:///./src/util.ts","webpack:///external \"@angular/common\"","webpack:///external \"@angular/http\"","webpack:///external \"@ngx-translate/core\"","webpack:///external \"rxjs/Subject\"","webpack:///external \"rxjs/add/operator/share\"","webpack:///external \"rxjs/add/operator/toPromise\"","webpack:///./index.ts"],"names":[],"mappings":"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","file":"localize-router.umd.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@angular/core\"), require(\"rxjs/add/observable/forkJoin\"), require(\"@angular/router\"), require(\"rxjs/Observable\"), require(\"@angular/common\"), require(\"@angular/http\"), require(\"@ngx-translate/core\"), require(\"rxjs/Subject\"), require(\"rxjs/add/operator/share\"), require(\"rxjs/add/operator/toPromise\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@angular/core\", \"rxjs/add/observable/forkJoin\", \"@angular/router\", \"rxjs/Observable\", \"@angular/common\", \"@angular/http\", \"@ngx-translate/core\", \"rxjs/Subject\", \"rxjs/add/operator/share\", \"rxjs/add/operator/toPromise\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"localize-router\"] = factory(require(\"@angular/core\"), require(\"rxjs/add/observable/forkJoin\"), require(\"@angular/router\"), require(\"rxjs/Observable\"), require(\"@angular/common\"), require(\"@angular/http\"), require(\"@ngx-translate/core\"), require(\"rxjs/Subject\"), require(\"rxjs/add/operator/share\"), require(\"rxjs/add/operator/toPromise\"));\n\telse\n\t\troot[\"localize-router\"] = factory(root[\"@angular/core\"], root[\"rxjs/add/observable/forkJoin\"], root[\"@angular/router\"], root[\"rxjs/Observable\"], root[\"@angular/common\"], root[\"@angular/http\"], root[\"@ngx-translate/core\"], root[\"rxjs/Subject\"], root[\"rxjs/add/operator/share\"], root[\"rxjs/add/operator/toPromise\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_9__, __WEBPACK_EXTERNAL_MODULE_10__, __WEBPACK_EXTERNAL_MODULE_11__, __WEBPACK_EXTERNAL_MODULE_12__, __WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_14__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1f5ba223e7b1a2f83544","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/core\"\n// module id = 0\n// module chunks = 0","import { Http, Response } from '@angular/http';\r\nimport { OpaqueToken } from '@angular/core';\r\nimport { Routes, Route } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Observer } from 'rxjs/Observer';\r\nimport { Location } from '@angular/common';\r\nimport 'rxjs/add/observable/forkJoin';\r\nimport 'rxjs/add/operator/toPromise';\r\nimport 'rxjs/add/operator/share';\r\n\r\nconst LOCALIZE_LOCAL_STORAGE = 'LOCALIZE_LOCAL_STORAGE';\r\n\r\n/**\r\n * Static provider for keeping track of routes\r\n * @type {OpaqueToken}\r\n */\r\nexport const RAW_ROUTES = new OpaqueToken('RAW_ROUTES');\r\n\r\n/**\r\n * Config interface\r\n */\r\nexport interface ILocalizeRouteConfig {\r\n  locales: Array<string>;\r\n  prefix: string;\r\n}\r\n\r\n/**\r\n * Abstract class for parsing localization\r\n */\r\nexport abstract class LocalizeParser {\r\n  locales: Array<string>;\r\n  currentLang: string;\r\n  routes: Routes;\r\n  defaultLang: string;\r\n\r\n  protected prefix: string;\r\n\r\n  private translationObject: any;\r\n\r\n  /**\r\n   * Loader constructor\r\n   * @param translate\r\n   * @param location\r\n   */\r\n  constructor(private translate: TranslateService, private location: Location) {}\r\n\r\n  /**\r\n   * Load routes and fetch necessary data\r\n   * @param routes\r\n   */\r\n  abstract load(routes: Routes): Promise<any>;\r\n\r\n  /**\r\n   * Initialize language and routes\r\n   * @param routes\r\n   * @returns {Promise<any>}\r\n   */\r\n  protected init(routes: Routes): Promise<any> {\r\n    let selectedLanguage: string;\r\n    let wildcardRoute: Route;\r\n\r\n    this.routes = routes;\r\n\r\n    if (!this.locales.length) {\r\n      return Promise.resolve();\r\n    }\r\n    /** detect current language */\r\n    let locationLang = this.getLocationLang();\r\n    this.defaultLang = this._cachedLang || this._getBrowserLang() || this.locales[ 0 ];\r\n    selectedLanguage = locationLang || this.defaultLang;\r\n    this.translate.setDefaultLang(this.defaultLang);\r\n\r\n    /** set base route */\r\n    const baseRoute = { path: '', redirectTo: this.defaultLang, pathMatch: 'full' };\r\n\r\n    /** extract potential wildcard route */\r\n    let wildcardIndex = routes.findIndex((route: Route) => route.path === '**');\r\n    if (wildcardIndex !== -1) {\r\n      wildcardRoute = routes.splice(wildcardIndex, 1)[0];\r\n    }\r\n\r\n    /** mutable operation on routes */\r\n    let children = this.routes.splice(0, this.routes.length, baseRoute);\r\n\r\n    /** append children routes... */\r\n    this.routes.push({ children: children });\r\n\r\n    /** ...and potential wildcard route */\r\n    if (wildcardRoute) {\r\n      this.routes.push(wildcardRoute);\r\n    }\r\n\r\n    /** translate routes */\r\n    const res = this.translateRoutes(selectedLanguage);\r\n    return res.toPromise();\r\n  }\r\n\r\n  initChildRoutes(routes: Routes) {\r\n    if (!this.translationObject) {\r\n      // not lazy, it will be translated in main init\r\n      return routes;\r\n    }\r\n\r\n    this._translateRouteTree(routes);\r\n    return routes;\r\n  }\r\n\r\n  /**\r\n   * Translate routes to selected language\r\n   * @param language\r\n   * @returns {Promise<any>}\r\n   */\r\n  translateRoutes(language: string): Observable<any> {\r\n    return new Observable<any>((observer: Observer<any>) => {\r\n      this._cachedLang = language;\r\n      if (this.routes.length > 1) {\r\n        this.routes[ 1 ].path = language;\r\n      }\r\n\r\n      this.translate.use(language).subscribe((translations: any) => {\r\n        this.translationObject = translations;\r\n        this.currentLang = language;\r\n\r\n        if (this.routes.length > 1) {\r\n          this._translateRouteTree(this.routes[1].children);\r\n        }\r\n        // if there is wildcard route\r\n        if (this.routes.length > 2 && this.routes[2].redirectTo) {\r\n          this._translateProperty(this.routes[2], 'redirectTo', true);\r\n        }\r\n\r\n        observer.next(void 0);\r\n        observer.complete();\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Translate the route node and recursively call for all it's children\r\n   * @param routes\r\n   * @returns {Promise<any>}\r\n   * @private\r\n   */\r\n  private _translateRouteTree(routes: Routes): void {\r\n    routes.forEach((route: Route) => {\r\n      if (route.path && route.path !== '**') {\r\n        this._translateProperty(route, 'path');\r\n      }\r\n      if (route.redirectTo) {\r\n        this._translateProperty(route, 'redirectTo', !route.redirectTo.indexOf('/'));\r\n      }\r\n      if (route.children) {\r\n        this._translateRouteTree(route.children);\r\n      }\r\n      if (route.loadChildren && (<any>route)._loadedConfig) {\r\n        this._translateRouteTree((<any>route)._loadedConfig.routes);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Translate property and if first time add original to cache\r\n   * @param route\r\n   * @param property\r\n   * @param prefixLang\r\n   * @private\r\n   */\r\n  private _translateProperty(route: Route, property: string, prefixLang?: boolean): void {\r\n    // set property to data if not there yet\r\n    let dataPointer: any = route.data = route.data || {};\r\n    if (!dataPointer.localizeRouter) {\r\n      dataPointer.localizeRouter = {};\r\n    }\r\n    if (!dataPointer.localizeRouter[property]) {\r\n      dataPointer.localizeRouter[property] = (<any>route)[property];\r\n    }\r\n\r\n    let result = this.translateRoute(dataPointer.localizeRouter[property]);\r\n    (<any>route)[property] = prefixLang ? `/${this.currentLang}${result}` : result;\r\n  }\r\n\r\n  /**\r\n   * Translate route and return observable\r\n   * @param path\r\n   * @returns {string}\r\n   */\r\n  translateRoute(path: string): string {\r\n    let pathSegments = path.split('/');\r\n\r\n    /** collect observables  */\r\n    return pathSegments.map((part: string) => part.length ? this.translateText(part) : part).join('/');\r\n  }\r\n\r\n\r\n  /**\r\n   * Get language from url\r\n   * @returns {any}\r\n   * @private\r\n   */\r\n  getLocationLang(url?: string): string {\r\n    let pathSlices = (url || this.location.path()).split('/');\r\n\r\n    if (pathSlices.length > 1 && this.locales.indexOf(pathSlices[1]) !== -1) {\r\n      return pathSlices[1];\r\n    }\r\n    if (pathSlices.length && this.locales.indexOf(pathSlices[0]) !== -1) {\r\n      return pathSlices[0];\r\n    }\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * Get user's language set in the browser\r\n   * @returns {any}\r\n   * @private\r\n   */\r\n  private _getBrowserLang(): string {\r\n    return this._returnIfInLocales(this.translate.getBrowserLang());\r\n  }\r\n\r\n  /**\r\n   * Get language from local storage\r\n   * @returns {string}\r\n   * @private\r\n   */\r\n  private get _cachedLang(): string {\r\n    if(typeof window === 'undefined' || typeof window.localStorage === 'undefined') {\r\n      return undefined;\r\n    }\r\n    return this._returnIfInLocales(window.localStorage.getItem(LOCALIZE_LOCAL_STORAGE));\r\n  }\r\n\r\n  /**\r\n   * Save language to local storage\r\n   * @param value\r\n   * @private\r\n   */\r\n  private set _cachedLang(value: string) {\r\n    if(typeof window === 'undefined' || typeof window.localStorage === 'undefined') {\r\n      return;\r\n    }\r\n    window.localStorage.setItem(LOCALIZE_LOCAL_STORAGE, value);\r\n  }\r\n\r\n  private _returnIfInLocales(value: string): string {\r\n    if (value && this.locales.indexOf(value) !== -1) {\r\n      return value;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  private translateText(key: string): string {\r\n    if (!this.translationObject) {\r\n      return key;\r\n    }\r\n    let res = this.translationObject[this.prefix + key];\r\n    return res || key;\r\n  }\r\n}\r\n\r\n/**\r\n * Manually set configuration\r\n */\r\nexport class ManualParserLoader extends LocalizeParser {\r\n\r\n  /**\r\n   * CTOR\r\n   * @param translate\r\n   * @param location\r\n   * @param locales\r\n   * @param prefix\r\n   */\r\n  constructor(translate: TranslateService, location: Location, locales: Array<string> = ['en'], prefix: string = 'ROUTES.') {\r\n    super(translate, location);\r\n    this.locales = locales;\r\n    this.prefix = prefix;\r\n  }\r\n\r\n  /**\r\n   * Initialize or append routes\r\n   * @param routes\r\n   */\r\n  load(routes: Routes): Promise<any> {\r\n    return new Promise((resolve: any) => {\r\n      this.init(routes).then(resolve);\r\n    });\r\n  }\r\n}\r\n\r\n/**\r\n * Load configuration from server\r\n */\r\nexport class StaticParserLoader extends LocalizeParser {\r\n  private _dataLoaded: boolean;\r\n\r\n  /**\r\n   * CTOR\r\n   * @param translate\r\n   * @param location\r\n   * @param http\r\n   * @param path\r\n   */\r\n  constructor(translate: TranslateService, location: Location, private http: Http, private path: string = 'assets/locales.json') {\r\n    super(translate, location);\r\n    this._dataLoaded = false;\r\n  }\r\n\r\n  /**\r\n   * Initialize or append routes\r\n   * @param routes\r\n   */\r\n  load(routes: Routes): Promise<any> {\r\n    return new Promise((resolve: any) => {\r\n      if (this._dataLoaded) {\r\n        this.init(routes).then(resolve);\r\n      } else {\r\n        this.http.get(`${this.path}`)\r\n          .map((res: Response) => res.json())\r\n          .subscribe((data: ILocalizeRouteConfig) => {\r\n            this._dataLoaded = true;\r\n            this.locales = data.locales;\r\n            this.prefix = data.prefix;\r\n            this.init(routes).then(resolve);\r\n          });\r\n      }\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader!./src/localize-router.parser.ts","import { Injectable } from '@angular/core';\r\nimport { Router, NavigationStart, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/observable/forkJoin';\r\n\r\nimport { LocalizeParser } from './localize-router.parser';\r\n\r\n/**\r\n * Localization service\r\n * modifyRoutes\r\n */\r\n@Injectable()\r\nexport class LocalizeRouterService {\r\n  routerEvents: Subject<string>;\r\n\r\n  /**\r\n   * CTOR\r\n   * @param parser\r\n   * @param router\r\n   */\r\n  constructor(public parser: LocalizeParser, private router: Router) {\r\n    this.routerEvents = new Subject<string>();\r\n  }\r\n\r\n  /**\r\n   * Start up the service\r\n   */\r\n  init() {\r\n    this.router.resetConfig(this.parser.routes);\r\n    this.router.events.subscribe(this._routeChanged());\r\n  }\r\n\r\n  /**\r\n   * Change language and navigate to translated route\r\n   * @param lang\r\n   */\r\n  changeLanguage(lang: string) {\r\n    if (lang !== this.parser.currentLang) {\r\n      let rootSnapshot: ActivatedRouteSnapshot = this.router.routerState.snapshot.root;\r\n\r\n      this.parser.translateRoutes(lang).subscribe(() => {\r\n        this.router.navigateByUrl(this.traverseRouteSnapshot(rootSnapshot));\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Traverses through the tree to assemble new translated url\r\n   * @param snapshot\r\n   * @returns {string}\r\n   */\r\n  private traverseRouteSnapshot(snapshot: ActivatedRouteSnapshot): string {\r\n    if (snapshot.firstChild && snapshot.firstChild.routeConfig && snapshot.firstChild.routeConfig.path) {\r\n      return this.parseSegmentValue(snapshot) + '/' + this.traverseRouteSnapshot(snapshot.firstChild);\r\n    }\r\n    return this.parseSegmentValue(snapshot);\r\n  }\r\n\r\n  /**\r\n   * Extracts new segment value based on routeConfig and url\r\n   * @param snapshot\r\n   * @returns {any}\r\n   */\r\n  private parseSegmentValue(snapshot: ActivatedRouteSnapshot): string {\r\n    if (snapshot.routeConfig) {\r\n      let subPathSegments = snapshot.routeConfig.path.split('/');\r\n      return subPathSegments.\r\n      map((s: string, i: number) => s.indexOf(':') === 0 ? snapshot.url[i].path : s).\r\n      join('/');\r\n    }\r\n    return '';\r\n  }\r\n\r\n  /**\r\n   * Translate route to current language\r\n   * If new language is explicitly provided then replace language part in url with new language\r\n   * @param path\r\n   * @returns {Observable<string>}\r\n   */\r\n  translateRoute(path: string | any[]): string | any[] {\r\n    if (typeof path === 'string') {\r\n      let result = this.parser.translateRoute(path);\r\n      return !path.indexOf('/') ?\r\n        `/${this.parser.currentLang}${result}` :\r\n        result;\r\n    } else { // it's array\r\n      let result: any[] = [];\r\n      (path as Array<any>).forEach((segment: any, index: number) => {\r\n        if (typeof segment === 'string') {\r\n          let res = this.parser.translateRoute(segment);\r\n          if (!index && !segment.indexOf('/')) {\r\n            result.push(`/${this.parser.currentLang}${res}`);\r\n          } else {\r\n            result.push(res);\r\n          }\r\n        } else {\r\n          result.push(segment);\r\n        }\r\n      });\r\n      return result;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Event handler to react on route change\r\n   * @returns {(event:any)=>undefined}\r\n   * @private\r\n   */\r\n  private _routeChanged() {\r\n    let self = this;\r\n\r\n    return (event: any) => {\r\n      let lang = this.parser.getLocationLang(event.url);\r\n      if (event instanceof NavigationStart && lang && lang !== this.parser.currentLang) {\r\n        this.parser.translateRoutes(lang).subscribe(() => {\r\n          // Fire route change event\r\n          this.routerEvents.next(lang);\r\n        });\r\n      }\r\n      // This value does not exist in Router before version 4\r\n      // so we have to find it indirectly\r\n      if (event.toString().match(/RouteConfigLoadEnd/)) {\r\n        Observable.of(event.route).toPromise().then(function (route) {\r\n          self.parser.initChildRoutes(route._loadedConfig.routes);\r\n        });\r\n      }\r\n    };\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader!./src/localize-router.service.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/add/observable/forkJoin\"\n// module id = 3\n// module chunks = 0","import { PipeTransform, Pipe, Injectable, ChangeDetectorRef } from '@angular/core';\r\nimport { LocalizeRouterService } from './localize-router.service';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport 'rxjs/add/observable/forkJoin';\r\nimport { equals } from './util';\r\n\r\n@Injectable()\r\n@Pipe({\r\n  name: 'localize',\r\n  pure: false // required to update the value when the promise is resolved\r\n})\r\nexport class LocalizeRouterPipe implements PipeTransform {\r\n  private value: string | any[] = '';\r\n  private lastKey: string | any[];\r\n  private lastLanguage: string;\r\n  private subscription: Subscription;\r\n\r\n  /**\r\n   * CTOR\r\n   * @param localize\r\n   * @param _ref\r\n   */\r\n  constructor(private localize: LocalizeRouterService, private _ref: ChangeDetectorRef ) {\r\n    this.subscription = this.localize.routerEvents.subscribe(() => {\r\n      this.transform(this.lastKey);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Transform current url to localized one\r\n   * @param query\r\n   * @returns {string}\r\n   */\r\n  transform(query: string | any[]): any {\r\n    if(!query || query.length === 0 || !this.localize.parser.currentLang) {\r\n      return query;\r\n    }\r\n    if(equals(query, this.lastKey) && equals(this.lastLanguage, this.localize.parser.currentLang)) {\r\n      return this.value;\r\n    }\r\n    this.lastKey = query;\r\n    this.lastLanguage = this.localize.parser.currentLang;\r\n\r\n    /** translate key and update values */\r\n    this.value = this.localize.translateRoute(query);\r\n    this.lastKey = query;\r\n    this._ref.markForCheck();\r\n\r\n    return this.value;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader!./src/localize-router.pipe.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/router\"\n// module id = 5\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/Observable\"\n// module id = 6\n// module chunks = 0","import {\r\n  NgModule, ModuleWithProviders, APP_INITIALIZER, Provider, OpaqueToken, Optional, SkipSelf,\r\n  Injectable, Injector\r\n} from '@angular/core';\r\nimport { HttpModule, Http } from '@angular/http';\r\nimport { LocalizeRouterService } from './localize-router.service';\r\nimport { LocalizeParser, RAW_ROUTES, StaticParserLoader } from './localize-router.parser';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { LocalizeRouterPipe } from './localize-router.pipe';\r\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\r\nimport { Location, CommonModule } from '@angular/common';\r\n\r\nexport const LOCALIZE_ROUTER_FORROOT_GUARD = new OpaqueToken('LOCALIZE_ROUTER_FORROOT_GUARD');\r\n\r\n/**\r\n * Helper function for loading external parser\r\n * @param translate\r\n * @param location\r\n * @param http\r\n * @returns {StaticParserLoader}\r\n */\r\nexport function localizeLoaderFactory(translate: TranslateService, location: Location, http: Http) {\r\n  return new StaticParserLoader(translate, location, http);\r\n}\r\n\r\n@Injectable()\r\nexport class ParserInitializer {\r\n  parser: LocalizeParser;\r\n  routes: Routes;\r\n\r\n  constructor(private injector: Injector) {}\r\n\r\n  appInitializer(): Promise<any> {\r\n    const res = this.parser.load(this.routes);\r\n    res.then(() => {\r\n      const localize: LocalizeRouterService = this.injector.get(LocalizeRouterService);\r\n      localize.init();\r\n    });\r\n\r\n    return res;\r\n  }\r\n\r\n  generateInitializer(parser: LocalizeParser, routes: Routes[]) {\r\n    this.parser = parser;\r\n    this.routes = routes.reduce((a, b) => a.concat(b));\r\n    return this.appInitializer;\r\n  }\r\n}\r\nexport function getAppInitializer(p: ParserInitializer, parser: LocalizeParser, routes: Routes[]) {\r\n  return p.generateInitializer(parser, routes).bind(p);\r\n}\r\n\r\n@NgModule({\r\n  imports: [HttpModule, CommonModule, RouterModule, TranslateModule],\r\n  declarations: [LocalizeRouterPipe],\r\n  exports: [LocalizeRouterPipe]\r\n})\r\nexport class LocalizeRouterModule {\r\n\r\n  // static Localize: LocalizeParser;\r\n  //\r\n  // constructor(@Inject(LocalizeParser) localize: LocalizeParser) {\r\n  //   if (localize && !LocalizeRouterModule.Localize) {\r\n  //     LocalizeRouterModule.Localize = localize;\r\n  //   }\r\n  // }\r\n\r\n  static forRoot(\r\n    routes: Routes,\r\n    localizeLoader: Provider = {\r\n      provide: LocalizeParser,\r\n      useFactory: localizeLoaderFactory,\r\n      deps: [TranslateService, Location, Http]\r\n    }\r\n  ): ModuleWithProviders {\r\n    return {\r\n      ngModule: LocalizeRouterModule,\r\n      providers: [\r\n        {\r\n          provide: LOCALIZE_ROUTER_FORROOT_GUARD,\r\n          useFactory: provideForRootGuard,\r\n          deps: [[LocalizeRouterModule, new Optional(), new SkipSelf()]]\r\n        },\r\n        {\r\n          provide: RAW_ROUTES,\r\n          multi: true,\r\n          useValue: routes\r\n        },\r\n        localizeLoader,\r\n        LocalizeRouterService,\r\n        ParserInitializer,\r\n        {\r\n          provide: APP_INITIALIZER,\r\n          multi: true,\r\n          useFactory: getAppInitializer,\r\n          deps: [ParserInitializer, LocalizeParser, RAW_ROUTES]\r\n        }\r\n      ]\r\n    };\r\n  }\r\n\r\n  static forChild(routes: Routes): ModuleWithProviders {\r\n    return {\r\n      ngModule: LocalizeRouterModule,\r\n      providers: [\r\n        {\r\n          provide: RAW_ROUTES,\r\n          multi: true,\r\n          // useValue: LocalizeRouterModule.Localize ?\r\n          //   LocalizeRouterModule.Localize.initChildRoutes(routes) :\r\n          //   routes\r\n          useValue: routes\r\n        }\r\n      ]\r\n    };\r\n  }\r\n}\r\n\r\nexport function provideForRootGuard(localizeRouterModule: LocalizeRouterModule): any {\r\n  if (localizeRouterModule) {\r\n    throw new Error(\r\n      `LocalizeRouterModule.forRoot() called twice. Lazy loaded modules should use LocalizeRouterModule.forChild() instead.`);\r\n  }\r\n  return 'guarded';\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader!./src/localize-router.module.ts","/**\r\n * Compare if two objects are same\r\n * @param o1\r\n * @param o2\r\n * @returns {boolean}\r\n */\r\nexport function equals(o1: any, o2: any): boolean {\r\n  if (o1 === o2) {\r\n    return true;\r\n  }\r\n  if (o1 === null || o2 === null) {\r\n    return false;\r\n  }\r\n  if(o1 !== o1 && o2 !== o2) {\r\n    return true;\r\n  } // NaN === NaN\r\n  let t1 = typeof o1, t2 = typeof o2, length: number, key: any, keySet: any;\r\n  if(t1 === t2 && t1 === 'object') {\r\n    if(Array.isArray(o1)) {\r\n      if (!Array.isArray(o2)) {\r\n        return false;\r\n      }\r\n      if((length = o1.length) === o2.length) {\r\n        for(key = 0; key < length; key++) {\r\n          if(!equals(o1[key], o2[key])) {\r\n            return false;\r\n          }\r\n        }\r\n        return true;\r\n      }\r\n    } else {\r\n      if (Array.isArray(o2)) {\r\n        return false;\r\n      }\r\n      keySet = Object.create(null);\r\n      for (key in o1) {\r\n        if (o1.hasOwnProperty(key)) {\r\n          if (!equals(o1[key], o2[key])) {\r\n            return false;\r\n          }\r\n          keySet[key] = true;\r\n        }\r\n      }\r\n      for (key in o2) {\r\n        if (o2.hasOwnProperty(key)) {\r\n          if (!(key in keySet) && typeof o2[key] !== 'undefined') {\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader!./src/util.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_9__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/common\"\n// module id = 9\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_10__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/http\"\n// module id = 10\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_11__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@ngx-translate/core\"\n// module id = 11\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_12__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/Subject\"\n// module id = 12\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_13__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/add/operator/share\"\n// module id = 13\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_14__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/add/operator/toPromise\"\n// module id = 14\n// module chunks = 0","export * from './src/localize-router.module';\r\nexport * from './src/localize-router.parser';\r\nexport * from './src/localize-router.service';\r\nexport * from './src/localize-router.pipe';\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader!./index.ts"],"sourceRoot":""}